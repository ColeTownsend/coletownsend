$(function(){var a=$("[rel~=tooltip]"),c=false,b=false,d=false;a.bind("mouseenter",function(){c=$(this);tip=c.attr("title");b=$('<div id="tooltip"></div>');if(!tip||tip==""){return false}c.removeAttr("title");b.css("opacity",0).html(tip).appendTo("body");var f=function(){if($(window).width()<b.outerWidth()*1.5){b.css("max-width",$(window).width()/2)}else{b.css("max-width",340)}var g=c.offset().left+(c.outerWidth()/2)-(b.outerWidth()/2),h=c.offset().top-b.outerHeight()-20;if(g<0){g=c.offset().left+c.outerWidth()/2-20;b.addClass("left")}else{b.removeClass("left")}if(g+b.outerWidth()>$(window).width()){g=c.offset().left-b.outerWidth()+c.outerWidth()/2+20;b.addClass("right")}else{b.removeClass("right")}if(h<0){var h=c.offset().top+c.outerHeight();b.addClass("top")}else{b.removeClass("top")}b.css({left:g,top:h}).animate({top:"+=10",opacity:1},50)};f();$(window).resize(f);var e=function(){b.animate({top:"-=10",opacity:0},50,function(){$(this).remove()});c.attr("title",tip)};c.bind("mouseleave",e);b.bind("click",e)})});